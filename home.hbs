{{!< default}}

<main id="home-main">
    {{!-- Hero section featuring site title and description with a button prompt to subscribe (for those not subscribed) --}}
    <section class="home-hero gh-outer">
        <div class="gh-inner">
            <div class="hero-content">
                <div class="hero-text">
                    {{#unless @custom.hero_title}}
                        {{!-- Default hero title (site title) --}}
                        <h1>{{@site.title}}</h1>
                    {{else}}
                        {{!-- Custom hero title --}}
                        <h1>{{@custom.hero_title}}</h1>
                    {{/unless}}
                    
                    {{#unless @custom.hero_subtitle}}
                        {{!-- Default hero subtitle --}}
                        <p>Read, watch, listen.</p>
                    {{else}}
                        {{!-- Custom hero subtitle  --}}
                        <p>{{@custom.hero_subtitle}}</p>
                    {{/unless}}
                </div>
                <div class="hero-buttons">
                    {{#unless @member}}
                        {{!-- Non-member buttons --}}
                        <a class="gh-head-btn gh-btn gh-primary-btn" href="#/portal/signup" data-portal="signup">Subscribe</a>
                    {{else}}
                        {{!-- Member buttons --}}
                        <p>placeholder</p>
                    {{/unless}}
                </div>
            </div>
        </div>
    </section>

    {{!-- Latest posts section for primary tags --}}
    {{#if @custom.primary_tag_slugs}}
        <section class="home-latest gh-outer">
            <div class="gh-inner">
                {{!-- TODO: Custom variable for text here --}}
                <div class="latest-title">
                    <h2>the latest</h2>
                </div>
                <div class="latest-content">
                    {{#get "tags" filter="slug:[{{@custom.primary_tag_slugs}}]"}}
                        {{#foreach tags}}
                            {{> "latest-card"}}
                        {{/foreach}}
                    {{/get}}
                </div>
            </div>
        </section>
    {{/if}}

    {{!-- Exploration section for secondary tags --}}
    {{#if @custom.secondary_tag_slugs}}
        <section class="home-topics gh-outer">
            <div class="gh-inner">
                {{#get "tags" filter="slug:[{{@custom.secondary_tag_slugs}}]"}}
                    <div class="gh-topic-list">
                        {{#foreach tags}}
                            {{> "topic-exploration"}}
                        {{/foreach}}
                    </div>
                {{/get}}
            </div>
        </section>
    {{/if}}
</main>